.jumbotron.text-center
	h1 Examine Browser
	
	p {{tagline}}

.row
	.col-md-6
		p Select the criteria you want to choose from:

		p Browser:

		select.selectpicker(title="Browser", id="userAgent")
			option  
			option Chrome
			option Safari
			option Firefox
			option IE
			option Other

		p
		p Uses an Ad Blocker?

		select.selectpicker(title="Ad Blocker", id="adBlocker")
			option 
			option Yes

		p
		p Has a particular plugin (not extension; case insensitive)?
		//- form.form-inline(name="plugin", id="plugin", onSubmit="formSubmitGetPlugin()", data-toggle="validator")
		//- 	.form-group
		//- .col-md-6
		input.form-control(type="text", name="pluginText", id="pluginText", placeholder="Name of plugin", required, title="Must check for a plugin")
			

		p
		p language
		p screenResolution
		p timezoneOffset
		p sessionStorage
		p localStorage
		p cpuClass
		p platform
		p webgl
		p touchSupport

	.col-md-6

		p Copy and paste the following code:
		p
		p(id="finalCode", style="font-family: monospace; white-space: pre") Final Code Here

script.

	function handleNull(s) {
		if (s == "") {
			$("#results").text("");
			$("#finalCode").text("Final Code Here");

			return true;
		}
		return false;
	}

	function setCode(s) {
		$("#finalCode").text(s);
	}

	

	$("#userAgent").change(function() {
		if (handleNull($("#userAgent").val())) return;

		var rapporResults = RapporExamine.userAgentData($("#userAgent").val())

		templateString = `<script src="rappor.js">\n<script src="rappor-examine.js">\n\nr = new window.Rappor()\;\nr.send(RapporExamine.userAgentData(\"${$("#userAgent").val()}\"));`

		setCode(templateString);
	});

	$("#adBlocker").change(function() {
		if (handleNull($("#adBlocker").val())) return;

		templateString = `<script src="rappor.js">\n<script src="rappor-examine.js">\n\nr = new window.Rappor()\;\nRapporExamine.getAdBlock(r.sendTrue(), r.sendFalse());`

		setCode(templateString);
	});

	$("#pluginText").on("change keyup paste", function() {
		if (handleNull($("#pluginText").val())) return;

		templateString = `<script src="rappor.js">\n<script src="rappor-examine.js">\n\nr = new window.Rappor()\;\nr.send(RapporExamine.hasPlugin(\"${$("#pluginText").val()}\"));`

		setCode(templateString);
	});


	//- console.log(RapporExamine.getRegularPlugins());
	console.log(RapporExamine.hasPlugin("pdf"));

	$('.selectpicker').selectpicker();